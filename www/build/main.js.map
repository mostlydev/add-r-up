{"version":3,"sources":["../../node_modules/@angular/core/@angular lazy","../../src lazy","../../src/pages/home/home.ts","../../src/app/main.ts","../../src/app/app.module.ts","../../src/app/app.component.ts","../../src/pages/home/home.constants.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 114;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/@angular/core/@angular lazy\n// module id = 114\n// module chunks = 0","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = 158;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src lazy\n// module id = 158\n// module chunks = 0","import { Globalization } from '@ionic-native/globalization';\nimport { Component } from '@angular/core';\nimport { NavController, Platform } from 'ionic-angular';\nimport { TranslateModule } from 'ng2-translate/ng2-translate';\nimport { TranslateService } from 'ng2-translate';\nimport { defaultLanguage, availableLanguages, sysOptions } from './home.constants';\nimport { Storage } from '@ionic/storage';\n\n@Component({\n  selector: 'page-home',\n  templateUrl: 'home.html'\n})\nexport class HomePage {\n  pot = 400;\n  prizes = [0, 0, 0, 0, 0];\n  percents = [0, 27.5, 10.5, 5, 2];\n  loaded: boolean = false;\n  smallestBill: string = \"10\";\n  smallestPrize: string = \"20\";\n\n  languages = availableLanguages;\n  selectedLanguage = sysOptions.systemLanguage;\n\n  param = { value: 'world' };\n\n  private translate: TranslateService;\n\n  constructor(\n    public navCtrl: NavController,\n    platform: Platform,\n    private globalization: Globalization,\n    translate: TranslateService,\n    private storage: Storage\n  ) {\n    this.percents[0] = 100 - (this.percents.reduce(function (a, b) {\n      return a + b;\n    }, 0));\n    this.translate = translate;\n\n    platform.ready().then(() => {\n      // this language will be used as a fallback when a translation isn't found in the current language\n      translate.setDefaultLang(defaultLanguage);\n\n      if ((<any>window).cordova) {\n        this.globalization.getPreferredLanguage().then(\n          (result) => {\n            var language = this.getSuitableLanguage(result.value);\n            translate.use(language);\n            sysOptions.systemLanguage = language;\n          });\n      } else {\n        let browserLanguage = translate.getBrowserLang() || defaultLanguage;\n        var language = this.getSuitableLanguage(browserLanguage);\n        translate.use(language);\n        sysOptions.systemLanguage = language;\n      }\n    }\n    );\n  }\n\n  ngOnInit() {\n    this.applyLanguage();\n    this.loadDefaults();\n    this.recalculate();\n  }\n\n  saveDefaults() {\n    this.storage.set('pot', this.pot);\n    this.storage.set('smallestBill', this.smallestBill);\n    this.storage.set('smallestPrize', this.smallestPrize);\n  }\n\n  loadDefaults() {\n    this.storage.get('pot').then((pot) => {\n      if (pot) {\n        this.pot = pot;\n        this.recalculate();\n      }\n    });\n    this.storage.get('smallestBill').then((smallestBill) => {\n      if (smallestBill) {\n        this.smallestBill = smallestBill;\n        this.recalculate();\n      }\n    });\n    this.storage.get('smallestPrize').then((smallestPrize) => {\n      if (smallestPrize) {\n        this.smallestPrize = smallestPrize;\n        this.recalculate();\n      }\n    });\n  }\n\n  onKey(evt) {\n    const charCode = (evt.which) ? evt.which : evt.keyCode;\n    if (charCode == 9) {\n      evt.preventDefault();\n      evt.target.blur();\n    }\n  }\n\n  getSuitableLanguage(language) {\n    language = language.substring(0, 2).toLowerCase();\n    return availableLanguages.some(x => x.code == language) ? language : defaultLanguage;\n  }\n\n  applyLanguage() {\n    this.translate.use(this.selectedLanguage);\n  }\n\n  onChange() {\n    this.saveDefaults();\n    this.recalculate();\n  }\n\n  recalculate() {\n    const smallestBill = parseInt(this.smallestBill, 10);\n    const minPrize = parseInt(this.smallestPrize, 10);\n    for (var _i = 0; _i < this.percents.length; _i++) {\n      this.prizes[_i] = this.floorTo(this.pot * this.percents[_i] / 100, smallestBill);\n      if (this.prizes[_i] < minPrize) this.prizes[_i] = 0;\n    }\n\n    this.prizes[0] = this.prizes[0] + (this.pot - this.sumArray(this.prizes));\n    this.loaded = true;\n  }\n\n  floorTo(value: number, floor: number = 10): number {\n    return Math.floor(value / floor) * floor\n  }\n\n  sumArray(numArray: Array<number>): number {\n    return numArray.reduce((a, b) => a + b, 0)\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app.module';\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/main.ts","import { Globalization } from '@ionic-native/globalization';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { ErrorHandler, NgModule } from '@angular/core';\nimport { IonicApp, IonicErrorHandler, IonicModule } from 'ionic-angular';\nimport { SplashScreen } from '@ionic-native/splash-screen';\nimport { StatusBar } from '@ionic-native/status-bar';\n\nimport { MyApp } from './app.component';\nimport { HomePage } from '../pages/home/home';\nimport { TranslateModule, TranslateStaticLoader, TranslateLoader } from 'ng2-translate';\nimport { Http } from '@angular/http';\nimport { IonicStorageModule } from '@ionic/storage';\n\nexport function createTranslateLoader(http: Http) {\n  return new TranslateStaticLoader(http, 'assets/i18n', '.json');\n}\n\n@NgModule({\n  declarations: [\n    MyApp,\n    HomePage\n  ],\n  imports: [\n    BrowserModule,\n    IonicModule.forRoot(MyApp),\n    TranslateModule.forRoot({\n      provide: TranslateLoader,\n      useFactory: (createTranslateLoader),\n      deps: [Http]\n    }),\n    IonicStorageModule.forRoot()\n  ],\n  bootstrap: [IonicApp],\n  entryComponents: [\n    MyApp,\n    HomePage\n  ],\n  providers: [\n    StatusBar,\n    Globalization,\n    SplashScreen,\n    { provide: ErrorHandler, useClass: IonicErrorHandler }\n  ]\n})\nexport class AppModule { }\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","import { Component } from '@angular/core';\nimport { Platform } from 'ionic-angular';\nimport { StatusBar } from '@ionic-native/status-bar';\nimport { SplashScreen } from '@ionic-native/splash-screen';\n\nimport { HomePage } from '../pages/home/home';\n@Component({\n  templateUrl: 'app.html'\n})\nexport class MyApp {\n  rootPage:any = HomePage;\n\n  constructor(platform: Platform, statusBar: StatusBar, splashScreen: SplashScreen) {\n    platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n      statusBar.styleDefault();\n      splashScreen.hide();\n    });\n  }\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","export const availableLanguages = [{\n  code: 'en',\n  name: 'English'\n}, {\n  code: 'pl',\n  name: 'Polski'\n}];\n\n\nexport const defaultLanguage = 'en';\n\nexport const sysOptions = {\n  systemLanguage: defaultLanguage\n};\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.constants.ts"],"sourceRoot":""}